# API Routes Guide

## Структура маршрутов

После настройки backend, все API эндпоинты следуют следующей структуре:

```
/api/v{версия}/{контроллер}/{метод}
```

### Примеры маршрутов:

#### Тестовые эндпоинты:
- `GET /api/v1/testGet` - Тестовый эндпоинт для проверки структуры

#### Пользователи:
- `GET /api/v1/users/me` - Получить данные текущего пользователя
- `GET /api/v1/users/search` - Поиск пользователей (версия 1)
- `GET /api/v2/users/search` - Расширенный поиск пользователей (версия 2)
- `POST /api/v1/users/register` - Регистрация нового пользователя

#### Проекты:
- `GET /api/v1/projects` - Получить список проектов
- `POST /api/v1/projects` - Создать новый проект

#### Задачи:
- `GET /api/v1/tasks` - Получить список задач
- `POST /api/v1/tasks` - Создать новую задачу

## Документация Swagger

Swagger документация доступна по адресу:
- **Swagger UI**: `http://localhost:3000/docs`
- **JSON Schema**: `http://localhost:3000/docs-json`

## Исключения из глобального префикса

Следующие маршруты НЕ включают префикс `/api`:
- `/health` - Проверка состояния сервера
- `/docs` - Swagger документация
- `/docs-json` - JSON схема API

## Версионирование

API поддерживает версионирование через URI. По умолчанию используется версия `v1`.

Для использования конкретной версии указывайте её в URL:
- `/api/v1/...` - Версия 1
- `/api/v2/...` - Версия 2 (где доступна)

## Как проверить изменения

1. Запустите backend:
   ```bash
   cd apps/backend
   npm run start:dev
   ```

2. Откройте браузер и перейдите к:
   - `http://localhost:3000/docs` - для просмотра Swagger документации
   - `http://localhost:3000/api/v1/testGet` - для проверки тестового эндпоинта
   - `http://localhost:3000/health` - для проверки состояния сервера

3. Проверьте, что все эндпоинты отображаются в Swagger с правильными путями `/api/v1/...`

### Автоматическое тестирование

Используйте готовые скрипты для быстрой проверки:

**Linux/macOS:**
```bash
chmod +x test-api.sh
./test-api.sh
```

**Windows PowerShell:**
```powershell
.\test-api.ps1
``` 